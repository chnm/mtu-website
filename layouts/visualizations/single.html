<!DOCTYPE html>
<html lang="en">
  {{- partial "head.html" . -}}
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.css" rel="stylesheet">
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.7.0/mapbox-gl.js"></script>

  <body class="visualization">
    {{- partial "header.html" . -}}
    <div id="app" class="h-screen flex flex-col overflow-hidden"> <!-- TODO: might need padding on the right -->
      <div class="flex-1 flex overflow-hidden">
        <div class="bg-gray-200 w-full sm:w-1/3 md:w-1/4 flex-1 flex h-screen top-0 p-4">
          <div class="overflow-y-scroll px-6 py-4">
            <h3 class="inline-block text-xl sm:text-1xl font-bold text-slate-900 tracking-tight dark:text-slate-200">{{.Title}}</h3>
            <p class="abstract">{{ .Params.abstract }}</p>
              {{ .Content }}

              {{ $cssStyle := resources.Get .Params.styles | resources.Minify | resources.Fingerprint }}
              <link rel="stylesheet" href="{{ $cssStyle.Permalink }}" integrity="{{ $cssStyle.Data.Integrity }}">

              {{ $script := resources.Get .Params.script  }}
              <script type="module" src="{{ $script.Permalink }}"></script>
          </div>
        </div>
        <div class="h-screen w-full sm:w-2/3 md:w-2/3">
          <div id="visualization"></div>
        </div>
      </div>
    </div>
    {{- partial "footer.html" . -}}
  </body>
</html>
